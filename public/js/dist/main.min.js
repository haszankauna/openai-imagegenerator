"use strict";function onSubmit(e){e.preventDefault(),document.querySelector(".msg").textContent="",document.querySelector("#image").src="";var t=document.querySelector("#prompt").value,n=document.querySelector("#size").value;""!==t?generateImageRequest(t,n):alert("Please add some text")}function generateImageRequest(t,n){var r,o,a;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,showSpinner(),e.next=4,regeneratorRuntime.awrap(fetch("/openai/generateimage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:t,size:n})}));case 4:if((r=e.sent).ok){e.next=8;break}throw removeSpinner(),new Error("That image could not be generated");case 8:return e.next=10,regeneratorRuntime.awrap(r.json());case 10:o=e.sent,a=o.data,document.querySelector("#image").src=a,removeSpinner(),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),document.querySelector(".msg").textContent=e.t0;case 19:case"end":return e.stop()}},null,null,[[0,16]])}function showSpinner(){document.querySelector(".spinner").classList.add("show")}function removeSpinner(){document.querySelector(".spinner").classList.remove("show")}document.querySelector("#image-form").addEventListener("submit",onSubmit);
//# sourceMappingURL=main.min.js.map
