"use strict";var _require=require("openai"),Configuration=_require.Configuration,OpenAIApi=_require.OpenAIApi,configuration=new Configuration({apiKey:process.env.OPENAI_API_KEY}),openai=new OpenAIApi(configuration),generateImage=function(n,r){var t,a,o,s,i,u;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.body,a=t.prompt,o=t.size,s="small"===o?"256x256":"medium"===o?"512x512":"1024x1024",e.prev=2,e.next=5,regeneratorRuntime.awrap(openai.createImage({prompt:a,n:1,size:s}));case 5:i=e.sent,u=i.data.data[0].url,r.status(200).json({success:!0,data:u}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),e.t0.response?(console.log(e.t0.response.status),console.log(e.t0.response.data)):console.log(e.t0.message),r.status(400).json({success:!1,error:"The image could not be generated"});case 14:case"end":return e.stop()}},null,null,[[2,10]])};module.exports={generateImage:generateImage};
//# sourceMappingURL=openaiController.min.js.map
